const data = [
  {
    documents: [
      {
        r_name: "아시아음식점",
        r_phone: null,
        r_lon: "127.147516",
        r_lat: "36.808204",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "5",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "중국느낌카페",
        c_phone: null,
        c_lon: "127.147729",
        c_lat: "36.809026",
        c_do: "충남",
        c_si: "천안시",
        c_gu: null,
        c_dong: null,
        c_cat: null,
        c_id: "2",
        c_url: null,
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "인도음식점",
        r_phone: null,
        r_lon: "127.148715",
        r_lat: "36.809342",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "4",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "볼베어파크 천안점",
        c_phone: "",
        c_lon: "127.150594",
        c_lat: "36.807872",
        c_do: "충남",
        c_si: "천안시",
        c_gu: "동남구",
        c_dong: "문화동",
        c_cat: "키즈카페",
        c_id: "836565346",
        c_url: "http://place.map.kakao.com/836565346",
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "중식당",
        r_phone: null,
        r_lon: "127.147161",
        r_lat: "36.807329",
        r_do: "충남",
        r_si: "천안시",
        r_gu: "동남구",
        r_dong: null,
        r_cat: null,
        r_id: "1",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "일본느낌카페",
        c_phone: null,
        c_lon: "127.149570",
        c_lat: "36.809585",
        c_do: "충남",
        c_si: "천안시",
        c_gu: null,
        c_dong: null,
        c_cat: null,
        c_id: "1",
        c_url: null,
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "아시아음식점",
        r_phone: null,
        r_lon: "127.147516",
        r_lat: "36.808204",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "5",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "일본느낌카페",
        c_phone: null,
        c_lon: "127.149570",
        c_lat: "36.809585",
        c_do: "충남",
        c_si: "천안시",
        c_gu: null,
        c_dong: null,
        c_cat: null,
        c_id: "1",
        c_url: null,
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "아시아음식점",
        r_phone: null,
        r_lon: "127.147516",
        r_lat: "36.808204",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "5",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "볼베어파크 천안점",
        c_phone: "",
        c_lon: "127.150594",
        c_lat: "36.807872",
        c_do: "충남",
        c_si: "천안시",
        c_gu: "동남구",
        c_dong: "문화동",
        c_cat: "키즈카페",
        c_id: "836565346",
        c_url: "http://place.map.kakao.com/836565346",
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "중식당",
        r_phone: null,
        r_lon: "127.147161",
        r_lat: "36.807329",
        r_do: "충남",
        r_si: "천안시",
        r_gu: "동남구",
        r_dong: null,
        r_cat: null,
        r_id: "1",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "볼베어파크 천안점",
        c_phone: "",
        c_lon: "127.150594",
        c_lat: "36.807872",
        c_do: "충남",
        c_si: "천안시",
        c_gu: "동남구",
        c_dong: "문화동",
        c_cat: "키즈카페",
        c_id: "836565346",
        c_url: "http://place.map.kakao.com/836565346",
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "마운틴피시텔 레스토랑",
        r_phone: "041-555-3612",
        r_lon: "127.148424",
        r_lat: "36.809057",
        r_do: "충남",
        r_si: "천안시",
        r_gu: "동남구",
        r_dong: "대흥동",
        r_cat: "인도음식",
        r_id: "13110298",
        r_url: "http://place.map.kakao.com/13110298",
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "볼베어파크 천안점",
        c_phone: "",
        c_lon: "127.150594",
        c_lat: "36.807872",
        c_do: "충남",
        c_si: "천안시",
        c_gu: "동남구",
        c_dong: "문화동",
        c_cat: "키즈카페",
        c_id: "836565346",
        c_url: "http://place.map.kakao.com/836565346",
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "마녀주방 천안점",
        r_phone: "070-4177-1116",
        r_lon: "127.155689",
        r_lat: "36.817663",
        r_do: "충남",
        r_si: "천안시",
        r_gu: "동남구",
        r_dong: "신부동",
        r_cat: "양식",
        r_id: "1924771438",
        r_url: "http://place.map.kakao.com/1924771438",
        r_image_url:
          "https://postfiles.pstatic.net/MjAyMjA2MDRfMjI3/MDAxNjU0MzM1Njc3ODE2.nEi3X8ZSAl4c13s_pIBQ6D8Hsad8CURfZq90jC4GhYYg.z47t2sEWtfBQWXEua-HOKEtMxlJzwBxdRTkOUyOv7oMg.JPEG.tjfghk0414/%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C_(1).jpg?type=w773",
        c_name: "마녀주방 천안점",
        c_phone: "070-4177-1116",
        c_lon: "127.155689",
        c_lat: "36.817663",
        c_do: "충남",
        c_si: "천안시",
        c_gu: "동남구",
        c_dong: "신부동",
        c_cat: "양식",
        c_id: "1924771438",
        c_url: "http://place.map.kakao.com/1924771438",
        c_image_url:
          "https://postfiles.pstatic.net/MjAyMjA2MDRfMjI3/MDAxNjU0MzM1Njc3ODE2.nEi3X8ZSAl4c13s_pIBQ6D8Hsad8CURfZq90jC4GhYYg.z47t2sEWtfBQWXEua-HOKEtMxlJzwBxdRTkOUyOv7oMg.JPEG.tjfghk0414/%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C_(1).jpg?type=w773",
      },
      {
        r_name: "일식당",
        r_phone: null,
        r_lon: "126.999888",
        r_lat: "36.773001",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "2",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "브런치카페",
        c_phone: null,
        c_lon: "126.947718",
        c_lat: "36.864104",
        c_do: "충남",
        c_si: "천안시",
        c_gu: null,
        c_dong: null,
        c_cat: null,
        c_id: "4",
        c_url: null,
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
      {
        r_name: "인도음식점",
        r_phone: null,
        r_lon: "127.148715",
        r_lat: "36.809342",
        r_do: "충남",
        r_si: "천안시",
        r_gu: null,
        r_dong: null,
        r_cat: null,
        r_id: "4",
        r_url: null,
        r_image_url:
          "https://dthumb-phinf.pstatic.net/?src=%22https%3A%2F%2Fsearch.pstatic.net%2Fcommon%2F%3FautoRotate%3Dtrue%26quality%3D100%26type%3Df640_380%26src%3Dhttps%253A%252F%252Fldb-phinf.pstatic.net%252F20151104_4%252F1446624021652wtqLw_JPEG%252F167054573040236_0.jpg%22&type=ff500_300",
        c_name: "일본느낌카페",
        c_phone: null,
        c_lon: "127.149570",
        c_lat: "36.809585",
        c_do: "충남",
        c_si: "천안시",
        c_gu: null,
        c_dong: null,
        c_cat: null,
        c_id: "1",
        c_url: null,
        c_image_url: "http://assets.bwbx.io/images/iTVLb._zKs3I/v0/488x-1.jpg",
      },
    ],
    meta: {
      total_count: 46,
      is_end: false,
      pageable_count: 45,
      same_name: null,
    },
  },
];

const first = document.getElementsByClassName("first");
const second = document.getElementsByClassName("second");
const myFavList = document.getElementsByClassName("my-fav-list");
const firstDescription = document.getElementsByClassName("first__description");
const secondDescription = document.getElementsByClassName(
  "second__description"
);
const items = document.getElementsByClassName("my-fav-list");
const cafeRoadAddress = document.getElementsByClassName("road_address");
const cafeAddress = document.getElementsByClassName("address");
const phoneNum = document.getElementsByClassName("phone");

const dateInfo = data[0]["documents"];

for (let i = 0; i < dateInfo.length; i++) {
  // 끼야아아아악 힘들어 죽는줄~~~~~~~~~~~~~~~
  let choiceEl = document.createElement("div"),
    itemStr =
      "<div>" +
      "<div class='my-fav-list__description'>" +
      "<h5 class='first'>" +
      dateInfo[i].r_name +
      "</h5>" +
      "<div class='first__item'>" +
      "<span class='first__description'>" +
      dateInfo[i].r_do +
      dateInfo[i].r_si +
      dateInfo[i].r_gu +
      dateInfo[i].r_dong +
      "</span>" +
      "<span class='tel'>" +
      dateInfo[i].r_phone +
      "</span>" +
      "</div>" +
      "</div>" +
      "</div>" +
      "<div>" +
      "<div class='my-fav-list__description'>" +
      "<h5 class='second'>" +
      dateInfo[i].c_name +
      "</h5>" +
      "<div class='second__item'>" +
      "<span class='second__description'>" +
      dateInfo[i].c_do +
      " " +
      dateInfo[i].c_si +
      " " +
      dateInfo[i].c_gu +
      " " +
      dateInfo[i].c_dong +
      "</span>" +
      "<span class='tel'>" +
      dateInfo[i].r_phone +
      "</span>" +
      "</div>" +
      "</div>" +
      "</div>";

  choiceEl.innerHTML = itemStr;
  choiceEl.className = "my-fav-list";

  const area = document.getElementById("items");
  area.appendChild(choiceEl);
  // 아이템 띄우기 끝

  // 아이템 클릭 이벤트 시작
  const favList = document.getElementsByClassName("my-fav-list");
  favList[i].addEventListener("click", () => {
    // 레스트랑 마커 시작
    console.log("레스토랑: " + dateInfo[i].r_lat + ", " + dateInfo[i].r_lon);
    let firstPosition = new kakao.maps.LatLng(
        dateInfo[i]["r_lat"],
        dateInfo[i]["r_lon"]
      ),
      firstMessage = dateInfo[i]["r_name"];

    console.log(firstPosition, firstMessage);
    displayMarker(firstPosition, firstMessage);
    // 레스트랑 마커 끝

    // 카페 마커 시작
    console.log("카페: " + dateInfo[i].c_lat + ", " + dateInfo[i].c_lon);
    let secondPosition = new kakao.maps.LatLng(
        dateInfo[i]["c_lat"],
        dateInfo[i]["c_lon"]
      ),
      secondMessage = dateInfo[i]["c_name"];

    console.log(secondPosition, secondMessage);
    displayMarker(secondPosition, secondMessage);
    // 카페 마커 끝

    // 지도에 표시할 선을 생성합니다
    var polyline = new kakao.maps.Polyline({
      path: linePath, // 선을 구성하는 좌표배열 입니다
      strokeWeight: 5, // 선의 두께 입니다
      strokeColor: "#FF5757", // 선의 색깔입니다
      strokeOpacity: 0.7, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
      strokeStyle: "solid", // 선의 스타일입니다
    });
    polyline.setMap(map);
  });
  // 아이템 클릭 이벤트 끝

  // items[i].addEventListener("click", () => {
  //   // 지도이동
  //   let moveLatLon = new kakao.maps.LatLng(data[i].r_lat, data[i].r_lon);
  //   map.panTo(moveLatLon);

  //   var linePath = [
  //     new kakao.maps.LatLng(data[i].r_lat, data[i].r_lon),
  //     new kakao.maps.LatLng(data[i].c_lat, data[i].c_lon),
  //   ];

  //   // 지도에 표시할 선을 생성합니다
  //   var polyline = new kakao.maps.Polyline({
  //     path: linePath, // 선을 구성하는 좌표배열 입니다
  //     strokeWeight: 5, // 선의 두께 입니다
  //     strokeColor: "#FF5757", // 선의 색깔입니다
  //     strokeOpacity: 0.7, // 선의 불투명도 입니다 1에서 0 사이의 값이며 0에 가까울수록 투명합니다
  //     strokeStyle: "solid", // 선의 스타일입니다
  //   });
  //   polyline.setMap(map);
  // });
}
